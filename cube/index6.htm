<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="css/cube.css">
    <title>cube</title>
</head>
<body>
    <table border="1">
        <tr>
            <td class="cube3"></td>
            <td>T1</td>
            <td>RUR'</td>
        </tr>
        <tr>
            <td class="cube3"></td>
            <td>T2</td>
            <td>(U')R'U'R</td>
        </tr>
    </table>

    <script>
        const faceColors = {
            y: '#fff7ab', //黄
            o: '#ffdead', //オレンジ
            b: '#afeeff', //青
            r: '#ffb7b7', //赤
            w: '#ffffff', //白
            g: '#9ff19f', //緑
            '0': '#efefef' //グレー
        };

        const colorDataArray = [
            {
                back:    ['0', 'r', '0', '0', '0', '0', '0', '0', '0'],
                right:   ['g', '0', '0', '0', 'r', 'r', '0', 'r', 'r'],
                front:   ['0', '0', 'w', 'w', 'w', '0', 'w', 'w', '0'],
                bottom:  ['0', '0', '0', '0', '0', '0', '0', '0', '0'],
                left:    ['0', '0', '0', '0', '0', '0', '0', '0', '0'],
                top:     ['0', 'w', '0', '0', '0', '0', '0', '0', 'r']
            },
            {
                back:    ['0', '0', '0', '0', '0', '0', '0', '0', '0'],
                right:   ['r', '0', '0', '0', 'r', 'r', '0', 'r', 'r'],
                front:   ['0', '0', 'g', 'w', 'w', '0', 'w', 'w', '0'],
                bottom:  ['0', '0', '0', '0', '0', '0', '0', '0', '0'],
                left:    ['0', 'w', '0', '0', '0', '0', '0', '0', '0'],
                top:     ['0', '0', '0', 'r', '0', '0', '0', '0', 'w']
            }

        ];

        function createCube() {
            const cubeContainer = document.createElement('div');
            cubeContainer.classList.add('cube-container');

            for (const face in colorDataArray[0]) {
                const faceContainer = document.createElement('div');
                faceContainer.classList.add('face-container', face);

                for (let i = 0; i < 9; i++) {
                    const square = document.createElement('div');
                    square.classList.add('square');
                    faceContainer.appendChild(square);
                }

                cubeContainer.appendChild(faceContainer);
            }

            return cubeContainer;
        }

        function setColor(cube, faceName, colorArray) {
            const face = cube.querySelector(`.face-container.${faceName}`);
            const squares = face.querySelectorAll('.square');
            if (squares.length === colorArray.length) {
                for (let i = 0; i < squares.length; i++) {
                    squares[i].style.backgroundColor = faceColors[colorArray[i]];
                }
            } else {
                console.error(`Color array length mismatch for ${faceName}`);
            }
        }

        const table = document.querySelector('table');
        const rows = table.rows;

        for (let i = 0; i < rows.length; i++) {
            const firstTdInRow = rows[i].cells[0];
            if (firstTdInRow) {
                const newCube = createCube();
                const rowColorData = colorDataArray[i];
                for (const face in rowColorData) {
                    setColor(newCube, face, rowColorData[face]);
                }
                firstTdInRow.appendChild(newCube);
            }
        }
    </script>
</body>
</html>